
# ===============================
# 1. Configuracoes do Servidor
# ===============================
spring.application.name=api-loja-carros
server.port=${PORT:8080}

# ===============================
# 2. Conexao com MongoDB
# ===============================
# Se o Mongo tiver senha, use: mongodb://usuario:senha@localhost:27017/loja_carros_db
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI}

# Garante que indices (como @Indexed(unique=true) no email) sejam criados automaticamente
spring.data.mongodb.auto-index-creation=true

# ===============================
# 3. Limites de Tamanho (CRITICO PARA BASE64)
# ===============================
# Como a imagem vai dentro do JSON, o "corpo" da requisicao fica grande.
# O padrao e 2MB. Aqui aumentamos para 10MB para evitar erro de "Request too large".

# Aumenta o limite do tamanho do JSON/Body do POST (Padrão e 2MB, vamos por 50MB)
server.tomcat.max-http-post-size=50MB
server.tomcat.max-swallow-size=50MB

# Aumenta os limites de upload (embora voce use JSON, o Spring valida isso em alguns contextos)
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# ===============================
# 4. Segurança JWT (Token)
# ===============================
# Essa e a chave que assina seus tokens.
# IMPORTANTE: Em producao, use uma variavel de ambiente, nunca deixe fixo no codigo.
api.security.token.secret=MinhaChaveSecretaSuperSeguraDoProjetoLojaCarros2024

# ===============================
# 5. Logs (Para Debug)
# ===============================
# Ajuda a ver o que esta acontecendo por tras dos panos
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.data.mongodb.core.MongoTemplate=INFO